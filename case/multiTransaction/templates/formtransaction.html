<!DOCTYPE html>
<html>
<head> 
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Python Flask Add Remove Input Fields Dynamically with JQuery Ajax and Mysqldb</title>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" />  
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>  
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>    
</head>
<body>
 <script>
$(document).ready(function() {
  
var MaxInputs       = 8; //maximum input boxes allowed
var InputsWrapper   = $("#InputsWrapper"); //Input boxes wrapper ID
var AddButton       = $("#AddMoreFileBox"); //Add button ID
  
var x = InputsWrapper.length; //initlal text box count
var FieldCount=1; //to keep track of text box added
  
$(AddButton).click(function (e)  //on add input button click
{
        if(x <= MaxInputs) //max input box allowed
        {
            FieldCount++; //text box added increment
            //add input box
            $(InputsWrapper).append('<div class="row"><p class="col-xs-6"><input type="text" placeholder="Enter product" class="form-control product_list" name="product[]" id="field_'+ FieldCount +'" value="Enter product '+ FieldCount +'"/><input type="text" placeholder="Enter product price" class="form-control price_list" name="price[]" id="field_'+ FieldCount +'" value="Enter product price '+ FieldCount +'"/><input type="text" placeholder="Enter quantity" class="form-control qty_list" name="qty[]" id="field_'+ FieldCount +'" value="Enter qty '+ FieldCount +'"/></p><a href="#" class="btn btn-danger removeclass">Ã—</a></div>');
            x++; //text box increment
        }
return false;
});
  
$("body").on("click",".removeclass", function(e){ //user click on remove text
        if( x > 1 ) {
                $(this).parent('div').remove(); //remove text box
                x--; //decrement textbox
        }
return false;
})
 $('#submit').click(function(){            
           $.ajax({  
                url:"/buy",  
                method:"POST",  
                data:$('#add_products').serialize(),  
                success:function(data)  
                {  alert(data)
                     location.href="/dash"
                }  
           });  
      }); 
});
</script>
<style>
.row {padding:10px;}
</style>
<div class="container">  
                <br />  
                <br />  
                <h2 align="center">Bon Order</h2><div id="resultbox"></div>  
                <div class="form-group">  
                     <form name="add_products" id="add_products">  
                         <!-- add identity -->
                         <input type="text" class="form-control" placeholder="Masukkan Nama" name="buyer" required>
                         <SELECT name="category" class="form-control" >
                              <option value="" selected disabled>Please select payment method</option>
                              {% for j in payment %}
                                  <OPTION value={{j[0]}}>{{j[1]}}</OPTION>
                              {% endfor %}
                         </SELECT>

                                <div id="InputsWrapper">
                                    <div class="row">
                                         <div class="col">
                                            <input type="text" name="product[]" placeholder="Enter product" class="form-control name_list" />
                                        </div>
                                        <div class="col">
                                            <input type="text" name="price[]" placeholder="Enter product price" class="form-control name_list" />
                                        </div>
                                        <div class="col">
                                            <input type="text" name="qty[]" placeholder="Enter quantity" class="form-control name_list" />
                                        </div>
                                    </div>
                                         <div class="col"><button type="button" name="add" id="AddMoreFileBox" class="btn btn-success">Add More</button></div>
                                </div>
         </div>
         <br/>
                               <input type="button" name="submit" id="submit" class="btn btn-info" value="Submit" />  
                     </form>  
                </div>  
           </div>  
</body>
</html>